

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>brails.scrapers.nsi_parser.nsi_parser module &mdash; BRAILS++  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            BRAILS++
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rst-doc/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst-doc/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst-doc/acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst-doc/license.html">Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst-doc/cite.html">How to Cite</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">BRAILS++</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">brails.scrapers.nsi_parser.nsi_parser module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/docs/rst-code/brails.scrapers.nsi_parser.nsi_parser.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-brails.scrapers.nsi_parser.nsi_parser">
<span id="brails-scrapers-nsi-parser-nsi-parser-module"></span><h1>brails.scrapers.nsi_parser.nsi_parser module<a class="headerlink" href="#module-brails.scrapers.nsi_parser.nsi_parser" title="Link to this heading"></a></h1>
<p>This module defines a class for scraping data from NSI.</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#brails.scrapers.nsi_parser.nsi_parser.NSI_Parser" title="brails.scrapers.nsi_parser.nsi_parser.NSI_Parser"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NSI_Parser</span></code></a>()</p></td>
<td><p>A class for interacting with the National Structural Inventory (NSI) data.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="brails.scrapers.nsi_parser.nsi_parser.NSI_Parser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">brails.scrapers.nsi_parser.nsi_parser.</span></span><span class="sig-name descname"><span class="pre">NSI_Parser</span></span><a class="headerlink" href="#brails.scrapers.nsi_parser.nsi_parser.NSI_Parser" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class for interacting with the National Structural Inventory (NSI) data.</p>
<p>This class provides methods for fetching and processing NSI data,
including mapping the data to building footprints, extracting relevant
attributes, and generating inventory outputs in formats compatible with
BRAILS and other GIS applications.</p>
<p>Key responsibilities of this class include:
- Fetching NSI data for given bounding box coordinates.
- Mapping NSI points to corresponding footprints.
- Converting NSI attributes to BRAILS-compatible attributes.
- Optionally retrieving extended features (such as split levels and</p>
<blockquote>
<div><p>basement information).</p>
</div></blockquote>
<ul class="simple">
<li><p>Generating and formatting the processed data in GeoJSON format for
further analysis.</p></li>
</ul>
<dl class="simple">
<dt>Attributes:</dt><dd><dl class="simple">
<dt>attributes (dict):</dt><dd><p>Stores the processed attributes for each footprint, including
location, building characteristics, and extended features.</p>
</dd>
<dt>brails2r2dmap (dict):</dt><dd><p>A mapping between NSI attributes and their corresponding BRAILS
attributes.</p>
</dd>
<dt>footprints (dict):</dt><dd><p>Stores the footprint data.</p>
</dd>
<dt>nsi2brailsmap (dict):</dt><dd><p>A mapping between NSI attribute keys and their corresponding BRAILS
attributes.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="brails.scrapers.nsi_parser.nsi_parser.NSI_Parser.GetNSIData">
<span class="sig-name descname"><span class="pre">GetNSIData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">footprints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lengthUnit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ft'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_extended_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#brails.scrapers.nsi_parser.nsi_parser.NSI_Parser.GetNSIData" title="Link to this definition"></a></dt>
<dd><p>Match NSI buildings points to a set of footprints.</p>
<p>Method that reads NSI buildings points and matches the data to a set
of footprints and writes the data in a BRAILS-compatible format</p>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>footprints: List of footprint data defined as a list of lists of</dt><dd><p>coordinates in EPSG 4326, i.e., [[vert1],….[vertlast]].
Vertices are defined in [longitude,latitude] fashion.</p>
</dd>
</dl>
<p>lengthUnit: The units for the data to be returned in, ‘m’ or ‘ft’</p>
<dl class="simple">
<dt>outfile: string containing the name of the output file</dt><dd><p>Currently, only GeoJSON format is supported</p>
</dd>
</dl>
<p>get_extended_features: additionally get split level and gararge</p>
<p>add_features: list of features to be included</p>
</dd>
<dt>Output:</dt><dd><dl class="simple">
<dt>dict: Attribute dictionary for the footprints containing the</dt><dd><p>attributes: 1)latitude, 2)longitude, 3)building plan area,
4)number of floors, 5)year of construction, 6)replacement cost,
7)structure type, 8)occupancy class, 9)footprint polygon
If “get_extended_features” option is selected, output
additionally includes 10) split level and 11) gararge</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="brails.scrapers.nsi_parser.nsi_parser.NSI_Parser.get_filtered_data_given_inventory">
<span class="sig-name descname"><span class="pre">get_filtered_data_given_inventory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inventory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="brails.types.asset_inventory.html#brails.types.asset_inventory.AssetInventory" title="brails.types.asset_inventory.AssetInventory"><span class="pre">AssetInventory</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">length_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ft'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_extended_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#brails.scrapers.nsi_parser.nsi_parser.NSI_Parser.get_filtered_data_given_inventory" title="Link to this definition"></a></dt>
<dd><p>Get NSI data corresponding to an AssetInventory.</p>
<dl>
<dt>Input:  RegionBoundary</dt><dd><blockquote>
<div><p>The region boundary</p>
</div></blockquote>
<dl class="simple">
<dt>length unit</dt><dd><p>The units data to be returned in, ‘m’ or ‘ft’</p>
</dd>
<dt>outfile</dt><dd><p>Optional string</p>
</dd>
<dt>get_extended_features</dt><dd><p>additionally get split level and gararge</p>
</dd>
<dt>add_features</dt><dd><p>Optional list of strings. Use this if you want to include
additional features in the filtered inventory</p>
</dd>
</dl>
</dd>
<dt>Output: dict</dt><dd><p>Attribute dictionary for the footprints containing the
attributes: 1)latitude, 2)longitude, 3)building plan area,
4)number of floors, 5)year of construction, 6)replacement cost,
7)structure type, 8)occupancy class, 9)footprint polygon
If “get_extended_features” option is selected, output
additionally includes 10) split level and 11) gararge</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="brails.scrapers.nsi_parser.nsi_parser.NSI_Parser.get_raw_data">
<span class="sig-name descname"><span class="pre">get_raw_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="brails.types.region_boundary.html#brails.types.region_boundary.RegionBoundary" title="brails.types.region_boundary.RegionBoundary"><span class="pre">RegionBoundary</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="brails.types.asset_inventory.html#brails.types.asset_inventory.AssetInventory" title="brails.types.asset_inventory.AssetInventory"><span class="pre">AssetInventory</span></a></span></span><a class="headerlink" href="#brails.scrapers.nsi_parser.nsi_parser.NSI_Parser.get_raw_data" title="Link to this definition"></a></dt>
<dd><p>Retrieve raw NSI data for a specified region.</p>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt>region (RegionBoundary):</dt><dd><p>The region boundary object defining the area of interest.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>AssetInventory:</dt><dd><p>An <cite>AssetInventory</cite> object containing assets (buildings) within
the given region, extracted from the NSI data.</p>
</dd>
</dl>
</dd>
<dt>Notes:</dt><dd><p>The function retrieves NSI data within the bounding box of the
provided region boundary, filters out points outside the boundary,
and returns the resulting data in an <cite>AssetInventory</cite>.</p>
<p>The length unit for the data is assumed to be in meters (‘m’) or
feet (‘ft’) as specified in the class initialization, but the
function currently does not modify the length unit in this method.</p>
</dd>
<dt>Example:</dt><dd><p>region = RegionBoundary(…)
inventory = get_raw_data(region)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, fmk.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>